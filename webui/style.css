:root{
  --bg:#0f1117;
  --panel:#151924;
  --panel-2:#1b2130;
  --text:#e6edf3;
  --muted:#9aa6b2;
  --accent:#69b6ff;
  --accent-2:#3a8cff;
  --danger:#ff6b6b;
  --border:#232a3a;
  --success:#22c55e;
  --warning:#f59e0b;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
  --shadow-lg: 0 20px 60px rgba(0,0,0,.35);
  --radius: 12px;
  --radius-sm: 8px;
}

:root[data-theme="light"]{
  --bg:#f7f8fa;
  --panel:#ffffff;
  --panel-2:#f2f4f7;
  --text:#0b1220;
  --muted:#475569;
  --accent:#3b82f6;
  --accent-2:#2563eb;
  --danger:#e11d48;
  --border:#e5e7eb;
  --success:#16a34a;
  --warning:#d97706;
  --shadow: 0 10px 30px rgba(0,0,0,.08);
  --shadow-lg: 0 20px 60px rgba(0,0,0,.12);
}

*{ box-sizing:border-box }

html, body {
  height: 100%;
}

body{
  margin:0;
  font: 14px/1.5 -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  color:var(--text);
  background:linear-gradient(135deg, var(--bg) 0%, var(--panel) 100%);
  min-height: 100vh;
  transition: background 0.3s ease;
}

:root[data-theme="light"] body{
  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
}

header{
  padding: 32px 24px 16px;
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  justify-content: space-between;
  gap:16px;
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 10;
  background: rgba(var(--bg), 0.8);
}

h1{
  margin:0;
  font-size: 28px;
  font-weight: 700;
  letter-spacing: -0.025em;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.subtitle{ 
  color: var(--muted); 
  margin:4px 0 0; 
  font-size: 15px;
  font-weight: 500;
}

.header-left{
  display: flex;
  flex-direction: column;
  gap: 4px;
}

main{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  padding: 24px;
  max-width: 1400px;
  margin: 0 auto;
}

@media (max-width: 1000px){
  main{ grid-template-columns: 1fr }
}

.controls, .output{
  background: var(--panel);
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
}

.controls:hover, .output:hover{
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

.field{ margin-bottom: 20px }
.field label{
  display:block;
  font-weight:600;
  margin: 0 0 12px;
  font-size: 15px;
  color: var(--text);
}

.filter-row{ 
  display:flex; 
  gap:12px;
  align-items: stretch;
}

input[type="text"]{
  flex:1;
  background: var(--panel-2);
  border:2px solid var(--border);
  color:var(--text);
  padding:12px 16px;
  border-radius: var(--radius-sm);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size: 14px;
  transition: all 0.2s ease;
}

input[type="text"]:focus{
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(var(--accent), 0.1);
}

textarea{
  width:100%;
  min-height: 300px;
  resize: vertical;
  background: var(--panel-2);
  border:2px solid var(--border);
  color:var(--text);
  padding:16px;
  border-radius: var(--radius-sm);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size: 14px;
  line-height: 1.6;
  transition: all 0.2s ease;
}

textarea:focus{
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(var(--accent), 0.1);
}

.toolbar{ 
  display:flex; 
  gap:12px; 
  flex-wrap: wrap; 
  margin: 0 0 16px;
  align-items: center;
}

/* Minimalistic Scandinavian Button System */
button, .file-btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-family: inherit;
  font-weight: 500;
  font-size: 14px;
  line-height: 1.2;
  text-decoration: none;
  border: 1px solid var(--border);
  border-radius: 6px;
  cursor: pointer;
  user-select: none;
  transition: all 0.2s ease;
  outline: none;
  min-height: 40px;
  padding: 0 16px;
  background: var(--panel);
  color: var(--text);
}

button:hover, .file-btn:hover {
  border-color: var(--accent);
  background: var(--panel-2);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

button:active, .file-btn:active {
  transform: translateY(0);
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

button:focus-visible, .file-btn:focus-visible {
  box-shadow: 0 0 0 2px var(--accent);
  border-color: var(--accent);
}

/* Primary action button */
#runBtn {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
  font-weight: 600;
  min-height: 44px;
  padding: 0 20px;
}

#runBtn:hover {
  background: var(--accent-2);
  border-color: var(--accent-2);
  transform: translateY(-1px);
  box-shadow: 0 3px 12px rgba(var(--accent), 0.25);
}

#runBtn::before {
  content: '‚ñ∂';
  font-size: 11px;
  opacity: 0.9;
}

/* Secondary buttons - clean and minimal */
#loadExampleBtn, #formatBtn, #minifyBtn {
  background: var(--panel);
  color: var(--muted);
  border-color: var(--border);
}

#loadExampleBtn:hover, #formatBtn:hover, #minifyBtn:hover {
  color: var(--text);
  border-color: var(--accent);
  background: var(--panel-2);
}

/* Load File button - matches other secondary buttons */
#loadFileBtn {
  background: var(--panel);
  color: var(--muted);
  border-color: var(--border);
}

#loadFileBtn:hover {
  color: var(--text);
  border-color: var(--accent);
  background: var(--panel-2);
}

/* Output buttons */
#copyOutputBtn, #downloadBtn {
  background: var(--panel);
  color: var(--muted);
  border-color: var(--border);
}

#copyOutputBtn:hover, #downloadBtn:hover {
  color: var(--text);
  border-color: var(--accent);
  background: var(--panel-2);
}

/* Theme toggle - pill style */
#themeToggle {
  background: var(--panel-2);
  color: var(--muted);
  border-color: var(--border);
  border-radius: 20px;
  min-height: 36px;
  padding: 0 14px;
  font-size: 13px;
}

#themeToggle:hover {
  color: var(--text);
  border-color: var(--accent);
  background: var(--panel);
}

/* Subtle icons */
#loadExampleBtn::before { content: '‚ö°'; font-size: 12px; opacity: 0.7; }
#loadFileBtn::before { content: 'üìÅ'; font-size: 12px; opacity: 0.7; }
#formatBtn::before { content: '‚ú®'; font-size: 12px; opacity: 0.7; }
#minifyBtn::before { content: '‚ö°'; font-size: 12px; opacity: 0.7; }
#copyOutputBtn::before { content: 'üìã'; font-size: 12px; opacity: 0.7; }
#downloadBtn::before { content: '‚Üì'; font-size: 12px; opacity: 0.7; }
#themeToggle::before { content: '‚óê'; font-size: 12px; opacity: 0.7; }

/* Disabled state */
button:disabled, .file-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
  border-color: var(--border);
  background: var(--panel);
}

button:disabled{ 
  opacity:.6; 
  cursor:not-allowed;
  transform: none !important;
  box-shadow: none !important;
}

.file-btn{ position: relative; overflow: hidden; display:inline-flex; align-items:center }
.file-btn input{ position:absolute; inset:0; opacity:0; cursor:pointer }

.output-header{ 
  display:flex; 
  align-items:center; 
  justify-content:space-between; 
  margin-bottom:16px;
}

.output-header h2{
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: var(--text);
}

.result, .error{
  background: var(--panel-2);
  border:2px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 16px;
  white-space: pre-wrap;
  word-break: break-word;
  min-height: 300px;
  margin:0;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size: 14px;
  line-height: 1.6;
  overflow-x: auto;
}

.error{ 
  color: var(--danger); 
  border-color: var(--danger);
  background: rgba(var(--danger), 0.05);
}

footer{ 
  padding: 24px; 
  color:var(--muted);
  text-align: center;
  font-size: 14px;
}

footer a{ 
  color: var(--accent);
  text-decoration: none;
  font-weight: 500;
  transition: color 0.2s ease;
}

footer a:hover{
  color: var(--accent-2);
}
